<!DOCTYPE <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Survey Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="crossorigin="anonymous"></script>
</head>
<body>

    </div>
    <div class="row">

      <div class="col-lg-12">

        <div class="card">
          <div class="card-header">
            <h1>Find Your Friend!</h1>
          </div>
          <div class="card-body">
            <form role="form">

              <div class="form-group">
                <label for="name"><h5>Name</h5></label>
                <input type="text" class="form-control" id="name">
              </div>

              <div class="form-group">
                <label for="role"><h5>Link to Image</h5></label>
                <input type="text" class="form-control" id="image">
              </div>

              <div class ="form-question">
                    <p>You find it difficult to introduce yourself to other people.</p>
                  <select name="questionOne" form="questionform" id = questionOne>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>You find it easy to stay relaxed even when there is some pressure.
                    </p>
                  <select name="questionTwo" form="questionform" id = questionTwo>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>You do not usually initiate conversations.</p>
                  <select name="questionThree" form="questionform" id = questionThree>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>You are usually highly motivated and energetic.</p>
                  <select name="questionFour" form="questionform" id = questionFour>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>You do not let other people influence your actions.
                    </p>
                  <select name="questionFive" form="questionform" id = questionFive>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>You often feel as if you have to justify yourself to other people.
                    </p>
                  <select name="questionSix" form="questionform" id = questionSix>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>You do not mind being at the center of attention.</p>
                  <select name="questionSeven" form="questionform" id = questionSeven>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>It is often difficult for you to relate to other peopleâ€™s feelings.</p>
                  <select name="questionEight" form="questionform" id = questionEight>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>Your mood can change very quickly.
                    </p>
                  <select name="questionNine" form="questionform" id = questionNine>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>
            <div class ="form-question">
                    <p>You rarely get carried away by fantasies and ideas.</p>
                  <select name="questionTen" form="questionform" id = questionTen>
                     <option value="" selected disabled hidden></option>
                     <option value = "1">Strongly Disagree</option>
                     <option value = "2">Somewhat Disagree</option>
                     <option value = "3">Neutral</option>
                     <option value = "4">Somewhat Agree</option>
                     <option value = "5">Strongly Agree</option>
                     </select>
                </div>

             
            </form>
            <br>
            <div class="text-right">
              <button type="submit" class="btn btn-primary btn-md" id="submit-btn">
                <span class="fa fa-fire"></span> Find My Friend!</button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script type="text/javascript">

  
    // Take the value of survey results and create an object
    $("#submit-btn").on("click", function(event) {
      event.preventDefault();

      var newUser = {
        name: $("#name").val().trim(),
        image: $("#image").val().trim(),
        scores : [
        $("#questionOne option:selected").val(),
        $("#questionTwo option:selected").val(),
        $("#questionThree option:selected").val(),
        $("#questionFour option:selected").val(),
        $("#questionFive option:selected").val(),
        $("#questionSix option:selected").val(),
        $("#questionSeven option:selected").val(),
        $("#questionEight option:selected").val(),
        $("#questionNine option:selected").val(),
        $("#questionTen option:selected").val(),
      ]

        
      };

      

          
      
        if (newUser.name === "" || newUser.image === "" || newUser.scores[0] === "" || newUser.scores[1] === ""|| newUser.scores[2] === "" || newUser.scores[3] === "" || newUser.scores[4] === "" || newUser.scores[5] === "" || newUser.scores[6] === "" || newUser.scores[7] === "" || newUser.scores[8] === "" || newUser.scores[9] === "" ) {
          alert("sorry, you must answer all questions")
          
        } else { 
          $.post("/api/friends", newUser)
        .then(function(data) {
          console.log(data);
          setTimeout(function(){ window.location = "localhost:8080"; },3000);
          
        })};


        
        

      

      

    });

    

  </script>
</body>
</html>